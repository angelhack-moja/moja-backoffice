<!DOCTYPE html>
<html>
<head>
    
    <title>moja! play</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <script type="text/javascript" src="/assets/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-migrate-1.2.1.js"></script>
    <script type="text/javascript" src="/game/jquery.jqpuzzle.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/game/jquery.jqpuzzle.css" />

    <script>
        jQuery(function($){
            
            var dostuff = function() {
                typeof Ti !== 'undefined' && Ti.App.fireEvent('game:done')
            };
            
            $('.continue').on('click', function() {
                dostuff();
                return false;
            })
            

            var settings = { 
                rows: 3,                    // number of rows [3 ... 9] 
                cols: 3,                    // number of columns [3 ... 9] 
                hole: 1,                   // initial hole position [1 ... rows*columns] 
                shuffle: true,             // initially show shuffled pieces [true|false] 
                numbers: true,              // initially show numbers on pieces [true|false] 
                language: 'en',             // language for gui elements [language code] 

                // display additional gui controls 
                control: { 
                    shufflePieces: false,    // display 'Shuffle' button [true|false] 
                    confirmShuffle: false,   // ask before shuffling [true|false] 
                    toggleOriginal: true,   // display 'Original' button [true|false] 
                    toggleNumbers: false,    // display 'Numbers' button [true|false] 
                    counter: false,          // display moves counter [true|false] 
                    timer: false,            // display timer (seconds) [true|false] 
                    pauseTimer: false        // pause timer if 'Original' button is activated 
                                            // [true|false] 
                }, 

                // perform actions when the puzzle is solved sucessfully 
                success: { 
                    fadeOriginal: false,    // cross-fade original image [true|false] 
                    callback: function() {
                        
                        

                        $('.jqp-toggle').on('click', function(){
                            dostuff();
                        })                        
                        
                        console.log($('.jqp-toggle'));
                        
                    },
//                    callback: undefined,    // callback a user-defined function [function] 
                                            // the function is passed an object as its argument 
                                            // which includes the fields 'moves' and 'seconds' 
                    callbackTimeout: 300    // time in ms after which the callback is called 
                }, 

                // animation speeds and settings 
                animation: { 
                    shuffleRounds: 3,       // number of shuffle rounds [1 ... ] 
                    shuffleSpeed: 800,      // time in ms to perform a shuffle round 
                    slidingSpeed: 200,      // time in ms for a single move 
                    fadeOriginalSpeed: 600  // time in ms to cross-fade original image 
                }, 

                // additional style information not specified via css 
                style: { 
                    gridSize: 2,            // space between two pieces in px 
                    overlap: true,          // if true, adjacent piece borders will overlap 
                                            // applies only if gridSize is set to 0 
                    backgroundOpacity: 0.1  // opacity of the original image behind the pieces 
                                            // [0 ... 1] (0 means no display) 
                } 
            } 
            
            $('#img').jqPuzzle(settings);
            

        })
    </script>
</head>
<body>
    <img id="img" src="/game/team.JPG" alt="Animals crossing" />
    
    <!--<a class="continue" href="#close">Continue Â»</a>-->
    
</body>
</html>
